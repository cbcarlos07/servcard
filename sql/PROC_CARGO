DELIMITER $$

DROP PROCEDURE IF EXISTS `PROC_ANO` $$
CREATE DEFINER=`root`@`localhost` PROCEDURE `PROC_ANO`(
CODIGO INT,
TEXTO VARCHAR(75),
TEXTO2 VARCHAR(255),    
ACAO    CHAR(1)
)
BEGIN
DECLARE TEXTO_ VARCHAR(75);
SET TEXTO_ = CONCAT('%',TEXTO,'%');
CASE
   WHEN ACAO = 'I'       THEN INSERT INTO `cargo` VALUES (NULL, TEXTO, TEXTO2);
   WHEN ACAO = 'A'       THEN UPDATE `cargo` SET `DS_CARGO` = TEXTO, `OBS_CARGO`  = TEXTO2 WHERE `CD_CARGO` = CODIGO;
   WHEN ACAO = 'E'       THEN DELETE FROM `cargo` WHERE `CD_CARGO` = CODIGO;
   WHEN ACAO = 'N'       THEN SELECT * FROM `cargo` WHERE `DS_CARGO` LIKE TEXTO_ ORDER BY `NM_CARGO` ASC;
   WHEN ACAO = 'C'       THEN SELECT * FROM `cargo` WHERE `CD_CARGO` = CODIGO;
   WHEN ACAO = 'T'       THEN SELECT * FROM `cargo` ORDER BY `NM_CARGO` ASC;

END CASE;
END $$

DELIMITER ;
